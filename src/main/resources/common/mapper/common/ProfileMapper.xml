<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.metasoft.ito.api.common.mapper.ProfileMapper">
    <sql id="selectFrom">
        SELECT
            `prof`.`user_prof_id`,
            `prof`.`name`,
            `prof`.`job`,
            `prof`.`skill`,
            `prof`.`birth_date`,
            `prof`.`career`,
            `prof`.`pay`,
            `prof`.`status`
        FROM
            `tb_prof` `prof`
    </sql>

    <resultMap id="profileResultMap" type="kr.co.metasoft.ito.api.common.entity.ProfileEntity">
        <result property="userProfId" column="user_prof_id" />
        <result property="address" column="address" />
        <result property="number" column="number" />
        <result property="email" column="email" />
        <result property="skill" column="skill" />
        <result property="career" column="career" />
        <result property="status" column="status" />
        <result property="pay" column="pay" />
        <result property="name" column="name" />
        <result property="birthDate" column="birth_date" />
        <result property="job" column="job" />
    </resultMap>

    <select
        id="selectProfileList"
        parameterType="java.util.Map"
        resultMap="profileResultMap"
    >
        <include refid="PageFragment.sortStart" />
        <include refid="selectFrom" />
        <include refid="PageFragment.sortEnd" />
        <include refid="PageFragment.limitOffset" />
    </select>

    <select
        id="selectProfileListCount"
        parameterType="java.util.Map"
        resultType="java.lang.Integer"
    >
        <include refid="PageFragment.countStart" />
        <include refid="selectFrom" />
        <include refid="PageFragment.countEnd" />
    </select>

    <delete id="deleteProfileList" parameterType="java.util.List">
        DELETE FROM tb_prof
        WHERE
        user_prof_id IN (
        <foreach collection="list" item="item" separator=",">
            #{item}
        </foreach>
        )
    </delete>
</mapper>